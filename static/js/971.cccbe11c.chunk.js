"use strict";(self.webpackChunkgoit_react_hw_08_phonebook_=self.webpackChunkgoit_react_hw_08_phonebook_||[]).push([[971],{6971:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(2791),o=n(7689),a=n(5048),p=n(8650),s=n(5295),x=n(9712),c=n(824),i=n(3329),d=function(){var e=(0,a.I0)(),t=(0,a.v9)((function(e){return e.filter}));return(0,i.jsxs)(x.Kq,{w:"400px",mx:"auto",spacing:4,border:"1px solid black",borderRadius:"8px",display:"flex",p:"20px",mb:"30px",children:[(0,i.jsx)(x.xv,{fontSize:28,color:"white",textShadow:"#000 1px 0 0px, #000 0 1px 0px, #000 -1px 0 0px, #000 0 -1px 0px",filter:"drop-shadow(3px 3px 2px #000)",children:"Find contacts by name"}),(0,i.jsx)(c.II,{onChange:function(t){e((0,s.T)(t.currentTarget.value.toLowerCase()))},value:t,type:"text",name:"filter",placeholder:"Enter name",bg:"gray.40"})]})},l=n(1413),u=n(6501),h=n(9439),m=n(9085),f=n(5777),b=function(e){var t=e.name,n=e.number,o=e.id,a=(0,u.zr)(),p=(0,h.Z)(a,2),s=p[0],c=p[1],d=c.isLoading,l=c.isSuccess,b=c.error;return(0,r.useEffect)((function(){l&&m.Am.info(" ".concat(t," was removed from the phone book")),b&&m.Am.error("oops something went wrong")}),[l,t,b]),(0,i.jsx)(x.xu,{_odd:{bg:"#edebeb"},_even:{bg:"#d9d4d4"},fontWeight:"bold",fontSize:"18px",children:(0,i.jsxs)(x.kC,{alignItems:"center",justifyContent:"space-between",w:"400px",p:"5px",children:[(0,i.jsx)(x.xv,{w:"45%",p:"5px",children:t}),(0,i.jsx)(x.xv,{w:"30%",p:"5px",children:n}),(0,i.jsx)(f.zx,{type:"button",onClick:function(){return s(o)},disabled:d,p:"5px",br:"8px",fontWeight:"bold",border:"1px",borderColor:"black",cursor:"pointer",_hover:{transform:"scale(1.02)",color:"red",fontWeight:"bold"},children:d?"Delete...":"Delete"})]})},o)},g=n(9194),w=function(){var e=(0,u.pG)(),t=e.data,n=e.isFetching,r=(0,a.v9)((function(e){return e.filter})),o=t&&t.filter((function(e){return e.name.toLowerCase().includes(r)}));return(0,i.jsxs)(i.Fragment,{children:[t&&0!==t.length&&(0,i.jsx)("ul",{children:0!==o.length?o.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return(0,i.jsx)(b,(0,l.Z)({},e),e.id)})):(0,i.jsxs)("p",{children:["no search contacts: ",r]})}),t&&0===t.length&&(0,i.jsx)("p",{children:"'You have no contacts'"}),n&&(0,i.jsx)(g.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})]})},j=function(){var e=(0,u.F3)(),t=(0,h.Z)(e,2),n=t[0],o=t[1],a=o.isLoading,p=o.isSuccess,s=o.error,d=(0,u.pG)().data,l=(0,r.useState)(""),b=(0,h.Z)(l,2),g=b[0],w=b[1],j=(0,r.useState)(""),v=(0,h.Z)(j,2),k=v[0],C=v[1],y=(0,r.useState)(""),S=(0,h.Z)(y,2),z=S[0],_=S[1];(0,r.useEffect)((function(){p&&m.Am.success(" ".concat(z," added to contact book"),{autoClose:800}),s&&m.Am.error("oops something went wrong")}),[s,p,z]);var A=function(e){var t=e.currentTarget,n=t.name,r=t.value;switch(n){case"name":w(r);break;case"number":C(r);break;default:return}};return(0,i.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),_(g),d.every((function(e){return e.name.toLowerCase()!==g.toLowerCase()}))?n({name:g,number:k}):m.Am.error("".concat(g," is alredy in contacts!!!")),w(""),C("")},children:(0,i.jsxs)(x.Kq,{w:"400px",mx:"auto",spacing:4,border:"1px solid black",borderRadius:"8px",display:"flex",p:"20px",mb:"30px",children:[(0,i.jsx)(x.xv,{fontSize:28,color:"white",textShadow:"#000 1px 0 0px, #000 0 1px 0px, #000 -1px 0 0px, #000 0 -1px 0px",filter:"drop-shadow(3px 3px 2px #000)",children:"Name"}),(0,i.jsx)(c.II,{onChange:A,value:g,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Boris Jonsoniuk",bg:"gray.40"}),(0,i.jsx)(x.xv,{fontSize:28,color:"white",textShadow:"#000 1px 0 0px, #000 0 1px 0px, #000 -1px 0 0px, #000 0 -1px 0px",filter:"drop-shadow(3px 3px 2px #000)",children:"Number"}),(0,i.jsx)(c.II,{onChange:A,value:k,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"+38 050 777 77 77",bg:"gray.40"}),(0,i.jsx)(f.zx,{colorScheme:"gray",type:"submit",disabled:!k||!g,children:a?"Add Contact...Spiner":"Add Contact"})]})})},v=n(8556),k=function(){var e=(0,a.v9)(p.Vp);return(0,i.jsx)(x.xu,{pb:5,w:"full",backgroundImage:"url(".concat(v,")"),backgroundSize:"cover",backgroundPosition:"center -120px",children:(0,i.jsxs)(x.kC,{w:"400px",mx:"auto",my:"6",flexDirection:"column",children:[!e&&(0,i.jsx)(o.Fg,{to:"/",replace:!0}),(0,i.jsx)(x.X6,{mb:10,color:"white",textShadow:"#000 1px 0 0px, #000 0 1px 0px, #000 -1px 0 0px, #000 0 -1px 0px",filter:"drop-shadow(3px 3px 2px #000)",children:"Phonebook"}),(0,i.jsx)(j,{}),(0,i.jsx)(x.X6,{mb:10,color:"white",textShadow:"#000 1px 0 0px, #000 0 1px 0px, #000 -1px 0 0px, #000 0 -1px 0px",filter:"drop-shadow(3px 3px 2px #000)",children:"Contacts"}),(0,i.jsx)(d,{}),(0,i.jsx)(w,{})]})})}},8556:function(e,t,n){e.exports=n.p+"static/media/phoneBook.659d8844753b96b0aeea.jpg"}}]);
//# sourceMappingURL=971.cccbe11c.chunk.js.map